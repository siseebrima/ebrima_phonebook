{"version":3,"sources":["components/Person.jsx","components/Contacts.jsx","components/Filter.jsx","components/Form.jsx","components/Notification.jsx","services/person.js","App.js","index.js"],"names":["Person","person","handleDelete","name","number","onClick","id","Contacts","toShow","map","Filter","searched","handleSearch","type","value","onChange","Form","handleForm","newName","handleInput","newNumber","handleNumber","onSubmit","Notification","message","success","className","style","color","fontSize","borderRadius","background","border","baseUrl","personService","getAll","axios","get","then","res","data","create","newObject","post","update","put","remove","deleted","delete","App","useState","persons","setPersons","setNewName","setNewNumber","setSearched","successMessage","setSuccessMessage","setSuccess","useEffect","initialData","catch","err","console","error","filter","p","toLowerCase","includes","e","target","event","preventDefault","newPerson","personExists","find","length","returnedPerson","setTimeout","concat","window","confirm","alert","ReactDOM","render","document","getElementById"],"mappings":"+JAaeA,EAXA,SAAC,GAA8B,IAA5BC,EAA2B,EAA3BA,OAAQC,EAAmB,EAAnBA,aACxB,OACE,8BACE,8BACGD,EAAOE,KADV,IACiBF,EAAOG,OACtB,wBAAQC,QAAS,kBAAMH,EAAaD,EAAOK,KAA3C,0BCWOC,EAfE,SAAC,GAA8B,IAA5BC,EAA2B,EAA3BA,OAAQN,EAAmB,EAAnBA,aAC1B,OACE,gCACE,yCACCM,EAAOC,KAAI,SAACR,GAAD,OACV,cAAC,EAAD,CACEA,OAAQA,EAERC,aAAc,kBAAMA,EAAaD,EAAOK,MADnCL,EAAOK,WCGPI,EAXA,SAAC,GAAgC,IAA9BC,EAA6B,EAA7BA,SAAUC,EAAmB,EAAnBA,aAC1B,OACE,8BACE,oDACsB,IACpB,uBAAOC,KAAK,OAAOC,MAAOH,EAAUI,SAAUH,UCqBvCI,EA1BF,SAAC,GAMP,IALLC,EAKI,EALJA,WACAC,EAII,EAJJA,QACAC,EAGI,EAHJA,YACAC,EAEI,EAFJA,UACAC,EACI,EADJA,aAEA,OACE,gCACE,2CACA,uBAAMC,SAAUL,EAAhB,UACE,yCACQ,uBAAOH,MAAOI,EAASH,SAAUI,OAEzC,0CACU,IACR,uBAAON,KAAK,OAAOC,MAAOM,EAAWL,SAAUM,OAEjD,8BACE,wBAAQR,KAAK,SAAb,0BCQKU,EA3BM,SAAC,GAA0B,IAAxBC,EAAuB,EAAvBA,QAASC,EAAc,EAAdA,QAgB/B,OACE,8BACe,OAAZD,EAAmB,KAClB,qBAAKE,UAAU,UAAUC,MAAOF,EAlBjB,CACnBG,MAAO,QACPC,SAAU,GACVC,aAAc,GACdC,WAAY,UACZC,OAAQ,eAES,CACjBJ,MAAO,MACPC,SAAU,GACVC,aAAc,GACdC,WAAY,UACZC,OAAQ,aAMJ,SACGR,O,gBCpBLS,EAAU,eAyBDC,EAFO,CAAEC,OArBT,WAEb,OADgBC,IAAMC,IAAIJ,GACXK,MAAK,SAACC,GAAD,OAASA,EAAIC,SAmBHC,OAhBjB,SAACC,GAEd,OADgBN,IAAMO,KAAKV,EAASS,GACrBJ,MAAK,SAACC,GAAD,OAASA,EAAIC,SAcKI,OAXzB,SAACtC,EAAIoC,GAElB,OADgBN,IAAMS,IAAN,UAAaZ,EAAb,YAAwB3B,GAAMoC,GAC/BJ,MAAK,SAACC,GAAD,OAASA,EAAIC,SASaM,OANjC,SAACxC,EAAIyC,GAGlB,OAFgBX,IAAMY,OAAN,UAAgBf,EAAhB,YAA2B3B,GAAMyC,GAElCT,MAAK,SAACC,GAAD,OAASA,EAAIC,UC2FpBS,EAzGH,WACV,MAA8BC,mBAAS,IAAvC,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAA8BF,mBAAS,IAAvC,mBAAOhC,EAAP,KAAgBmC,EAAhB,KACA,EAAkCH,mBAAS,IAA3C,mBAAO9B,EAAP,KAAkBkC,EAAlB,KACA,EAAgCJ,mBAAS,IAAzC,mBAAOvC,EAAP,KAAiB4C,EAAjB,KACA,EAA4CL,mBAAS,MAArD,mBAAOM,EAAP,KAAuBC,EAAvB,KACA,EAA8BP,mBAAS,MAAvC,mBAAOzB,EAAP,KAAgBiC,EAAhB,KAEAC,qBAAU,WACRzB,EACGC,SACAG,MAAK,SAACsB,GAELR,EAAWQ,MAEZC,OAAM,SAACC,GAAD,OAASC,QAAQC,MAAMF,QAC/B,IAEH,IAgEMtD,EAAS2C,EACXA,EAAQc,QAAO,SAACC,GAAD,uBACbA,EAAE/D,YADW,aACb,EAAQgE,cAAcC,SAAtB,OAA+BzD,QAA/B,IAA+BA,OAA/B,EAA+BA,EAAUwD,kBAE3C,GAEJ,OACE,gCACE,2CACA,cAAC,EAAD,CAAc3C,QAASgC,EAAgB/B,QAASA,IAChD,cAAC,EAAD,CAAQd,SAAUA,EAAUC,aAvBX,SAACyD,GACpBd,EAAYc,EAAEC,OAAOxD,UAuBnB,cAAC,EAAD,CACEG,WA5Ea,SAACsD,GAClBA,EAAMC,iBAGN,IAAMC,EAAY,CAAEtE,KAAMe,EAASd,OAAQgB,GAErCsD,EAAevB,EAAQwB,MAAK,SAACT,GAAD,OAAOA,EAAE/D,OAASe,MAE/CwD,GAAgBxD,EAAQ0D,OAAS,GAAKxD,EAAUwD,OAAS,EAC5D1C,EAAcO,OAAOgC,GAAWnC,MAAK,SAACuC,GACpCnB,GAAW,GACXD,EAAkB,SAAD,OAAUoB,EAAe1E,OAC1C2E,YAAW,WACTrB,EAAkB,QACjB,KACHL,EAAWD,EAAQ4B,OAAOF,OAEnBH,GACTM,OAAOC,QAAP,uDACA/C,EACGU,OAAO8B,EAAapE,GADvB,2BACgCoE,GADhC,IAC8CtE,OAAQgB,KACnDkB,MAAK,SAACuC,GAAD,OACJzB,EACED,EAAQ1C,KAAI,SAACyD,GAAD,OAAQA,EAAE5D,KAAOoE,EAAapE,GAAK4D,EAAIW,SAGtDhB,OAAM,SAACG,GACNN,GAAW,GACXD,EAAkB,kBAAD,OACGiB,EAAavE,KADhB,8BAGjB2E,YAAW,WACTrB,EAAkB,QACjB,SAGPyB,MAAM,GAAD,OAAIhE,EAAJ,gBAAmBE,EAAnB,mCAGPiC,EAAW,IACXC,EAAa,KAqCTnC,YAlCc,SAACoD,GACnBlB,EAAWkB,EAAMD,OAAOxD,QAkCpBO,aA/Be,SAACkD,GACpBjB,EAAaiB,EAAMD,OAAOxD,QA+BtBI,QAASA,EACTE,UAAWA,IAEb,cAAC,EAAD,CAAUZ,OAAQA,EAAQN,aA3BT,SAACI,GACpB,IAAML,EAASkD,EAAQwB,MAAK,SAACT,GAAD,OAAOA,EAAE5D,KAAOA,KAE5C4B,EAAcY,OAAOxC,EAAIL,GAAQqC,MAAK,SAACS,GACrCiC,OAAOC,QAAP,iBAAyBhF,EAAOE,KAAhC,MACAiD,EAAWD,EAAQc,QAAO,SAACC,GAAD,OAAOA,EAAE5D,KAAOA,gBClFhD6E,IAASC,OAAO,cAAC,EAAD,IAASC,SAASC,eAAe,W","file":"static/js/main.d61cf336.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Person = ({ person, handleDelete }) => {\n  return (\n    <div>\n      <p>\n        {person.name} {person.number}\n        <button onClick={() => handleDelete(person.id)}>delete</button>\n      </p>\n    </div>\n  );\n};\n\nexport default Person;\n","import React from \"react\";\nimport Person from \"./Person\";\n\nconst Contacts = ({ toShow, handleDelete }) => {\n  return (\n    <div>\n      <h2>Numbers</h2>\n      {toShow.map((person) => (\n        <Person\n          person={person}\n          key={person.id}\n          handleDelete={() => handleDelete(person.id)}\n        />\n      ))}\n    </div>\n  );\n};\n\nexport default Contacts;\n","import React from \"react\";\n\nconst Filter = ({ searched, handleSearch }) => {\n  return (\n    <div>\n      <p>\n        filter shown with a{\" \"}\n        <input type=\"text\" value={searched} onChange={handleSearch} />\n      </p>\n    </div>\n  );\n};\n\nexport default Filter;\n","import React from \"react\";\n\nconst Form = ({\n  handleForm,\n  newName,\n  handleInput,\n  newNumber,\n  handleNumber,\n}) => {\n  return (\n    <div>\n      <h2>add a new</h2>\n      <form onSubmit={handleForm}>\n        <div>\n          name: <input value={newName} onChange={handleInput} />\n        </div>\n        <div>\n          number:{\" \"}\n          <input type=\"text\" value={newNumber} onChange={handleNumber} />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default Form;\n","import React from \"react\";\n\nconst Notification = ({ message, success }) => {\n  const successStyle = {\n    color: \"green\",\n    fontSize: 22,\n    borderRadius: 10,\n    background: \"#dfe6e1\",\n    border: \"solid green\",\n  };\n  const errorStyle = {\n    color: \"red\",\n    fontSize: 22,\n    borderRadius: 10,\n    background: \"#dfe6e1\",\n    border: \"solid red\",\n  };\n\n  return (\n    <div>\n      {message === null ? null : (\n        <div className=\"success\" style={success ? successStyle : errorStyle}>\n          {message}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Notification;\n","import axios from \"axios\";\n\nconst baseUrl = \"/api/persons\";\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then((res) => res.data);\n};\n\nconst create = (newObject) => {\n  const request = axios.post(baseUrl, newObject);\n  return request.then((res) => res.data);\n};\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\n  return request.then((res) => res.data);\n};\n\nconst remove = (id, deleted) => {\n  const request = axios.delete(`${baseUrl}/${id}`, deleted);\n\n  return request.then((res) => res.data);\n};\n\nconst personService = { getAll, create, update, remove };\n\nexport default personService;\n","import React, { useState, useEffect } from \"react\";\nimport Contacts from \"./components/Contacts\";\nimport Filter from \"./components/Filter\";\nimport Form from \"./components/Form\";\nimport Notification from \"./components/Notification\";\nimport personService from \"./services/person\";\n// import axios from \"axios\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [searched, setSearched] = useState(\"\");\n  const [successMessage, setSuccessMessage] = useState(null);\n  const [success, setSuccess] = useState(null);\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then((initialData) => {\n        // const data = res.data;\n        setPersons(initialData);\n      })\n      .catch((err) => console.error(err));\n  }, []);\n\n  const handleForm = (event) => {\n    event.preventDefault();\n\n    // console.log(`submit clicked`);\n    const newPerson = { name: newName, number: newNumber };\n\n    const personExists = persons.find((p) => p.name === newName);\n\n    if (!personExists && newName.length > 0 && newNumber.length > 0) {\n      personService.create(newPerson).then((returnedPerson) => {\n        setSuccess(true);\n        setSuccessMessage(`Added ${returnedPerson.name}`);\n        setTimeout(() => {\n          setSuccessMessage(null);\n        }, 4000);\n        setPersons(persons.concat(returnedPerson));\n      });\n    } else if (personExists) {\n      window.confirm(`there is already a number for this contact, update?`);\n      personService\n        .update(personExists.id, { ...personExists, number: newNumber })\n        .then((returnedPerson) =>\n          setPersons(\n            persons.map((p) => (p.id !== personExists.id ? p : returnedPerson))\n          )\n        )\n        .catch((error) => {\n          setSuccess(false);\n          setSuccessMessage(\n            `information of ${personExists.name} has already been removed`\n          );\n          setTimeout(() => {\n            setSuccessMessage(null);\n          }, 4000);\n        });\n    } else {\n      alert(`${newName} and ${newNumber} is already added to phonebook`);\n    }\n\n    setNewName(\"\");\n    setNewNumber(\"\");\n  };\n\n  const handleInput = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumber = (event) => {\n    setNewNumber(event.target.value);\n  };\n\n  const handleSearch = (e) => {\n    setSearched(e.target.value);\n  };\n\n  const handleDelete = (id) => {\n    const person = persons.find((p) => p.id === id);\n\n    personService.remove(id, person).then((deleted) => {\n      window.confirm(`Delete ${person.name}?`);\n      setPersons(persons.filter((p) => p.id !== id));\n    });\n  };\n\n  const toShow = persons\n    ? persons.filter((p) =>\n        p.name?.toLowerCase().includes(searched?.toLowerCase())\n      )\n    : [];\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={successMessage} success={success} />\n      <Filter searched={searched} handleSearch={handleSearch} />\n      <Form\n        handleForm={handleForm}\n        handleInput={handleInput}\n        handleNumber={handleNumber}\n        newName={newName}\n        newNumber={newNumber}\n      />\n      <Contacts toShow={toShow} handleDelete={handleDelete} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}